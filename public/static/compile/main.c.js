"use strict";Array.prototype.remove=function(val){var index=this.indexOf(val);if(index>-1){this.splice(index,1);}};function setCookie(name,value,domain,path,day){var cookie=name+'='+encodeURIComponent(value);if(typeof day==='number'){cookie+=';max-age='+day*60*60*24;}if(!path){cookie+=';path=/';}if(domain){cookie+=';domain='+domain;}document.cookie=cookie;}function getCookie(name){var arr,reg=new RegExp("(^| )"+name+"=([^;]*)(;|$)");if(arr=document.cookie.match(reg))return unescape(arr[2]);else return null;}function delCookie(name){var exp=new Date();exp.setTime(exp.getTime()-1);var cval=getCookie(name);if(cval!=null)setCookie(name,cval,false,false,-1);}var compare_product_name='lbtek_compare_products';function setCompares(value,show_flag){setCookie(compare_product_name,value,null,false,30);getCompareProducts(show_flag);}function getCompares(){var compare_products=getCookie(compare_product_name);if(compare_products==null){return compare_products;}else{return compare_products.split('_');}}function validate_msg(XMLHttpRequest){if(XMLHttpRequest.responseJSON.error_code==="10000"){layer.msg(XMLHttpRequest.responseJSON.msg);}else{layer.msg('操作失败,请联系管理员',function(){});}}function ExceptionHandle(data){switch(data.error_code){case'pre_10005':is_to_login_msg();break;default:show_msg(data.msg);}}function show_msg(msg){layer.msg(msg);}function is_to_login_msg(msg){layer.confirm('该操作需要登录，去登录？',{btn:['去登录','取消']},function(){location.href='/cart/checkout.html';},function(index,layero){layer.close(index);});}function urlQuery(name){var reg=new RegExp('(^|&)'+name+'=([^&]*)(&|$)','i');var r=window.location.search.substr(1).match(reg);if(r!=null){return decodeURI(r[2]);}return null;}function genUrl(name,value){var url=location.origin+location.pathname;var search=location.search;if(!search){return url+'?'+name+'='+value;}var reg=new RegExp('(^|[&, ?])'+name+'=\\d+(&|$)','i');var r=window.location.search.match(reg);return r?url+search.replace(reg,r[1]+name+'='+value+r[2]):url+search+'&'+name+'='+value;}function debounce(fn,delay){var time=null;return function(e){var _arguments=arguments,_this=this;if(time){clearTimeout(time);}time=setTimeout(function(){fn.apply(_this,_arguments);},delay);};}